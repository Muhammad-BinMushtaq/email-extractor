<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ğŸ“§ Email Campaign Manager - Professional Email Marketing</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>

<!-- ========== NAVBAR ========== -->
<nav>
    <div class="container">
        <div class="logo">ğŸ“§ EmailPro</div>
        <div class="nav-links">
            <a onclick="switchTab('scrape')">Scraper</a>
            <a onclick="switchTab('compose')">Composer</a>
            <a onclick="switchTab('campaign')">Campaign</a>
        </div>
        <div class="nav-buttons">
            <button class="btn btn-primary" onclick="openPaymentModal()" style="min-width: 120px;">ğŸ’³ Premium</button>
            <div class="user-profile" onclick="toggleUserMenu()">
                <div class="user-avatar" id="userInitial">G</div>
                <span id="userName">Guest</span>
            </div>
        </div>
    </div>
</nav>

<!-- ========== HERO SECTION ========== -->
<section class="hero">
    <div class="container">
        <h1>Professional Email Marketing Made Simple</h1>
        <p>Scrape emails, create campaigns, and reach your audience with powerful tools built for growth</p>
        <div class="hero-buttons">
            <button class="btn btn-primary" onclick="scrollToContent()">Get Started</button>
            <button class="btn btn-secondary" onclick="openGoogleAuth()"><i class="fab fa-google"></i> Sign in with Google</button>
        </div>
    </div>
</section>

<!-- ========== MAIN CONTENT ========== -->
<div class="container">
    <div class="main-content">
        <!-- SIDEBAR -->
        <div class="sidebar">
            <div class="sidebar-title">Tools</div>
            <div class="sidebar-menu">
                <div class="sidebar-item active" onclick="switchTab('scrape')">
                    <i class="fas fa-search"></i> Scraper
                </div>
                <div class="sidebar-item" onclick="switchTab('compose')">
                    <i class="fas fa-pen"></i> Composer
                </div>
                <div class="sidebar-item" onclick="switchTab('campaign')">
                    <i class="fas fa-envelope"></i> Campaign
                </div>
                <div class="sidebar-item" onclick="switchTab('saved')">
                    <i class="fas fa-bookmark"></i> Saved
                </div>
            </div>
        </div>

        <!-- CONTENT -->
        <div class="content">
            <!-- SCRAPER TAB -->
            <div id="scrape" class="tab-pane active">
                <div class="card">
                    <h2><i class="fas fa-search"></i> Email Scraper</h2>
                    
                    <!-- Search Limit Indicator -->
                    <div class="search-limit" id="limitIndicator" style="display:none;">
                        <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                            <strong>Daily Search Limit (Free)</strong>
                            <span id="limitText">0/3</span>
                        </div>
                        <div class="limit-bar">
                            <div class="limit-fill" id="limitFill" style="width: 0%;"></div>
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Website URL:</label>
                        <input type="url" id="urlInput" placeholder="https://example.com" value="https://example.com">
                    </div>

                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="scrapeEmails()">
                            <i class="fas fa-search"></i> Scrape Emails
                        </button>
                    </div>

                    <div id="scrapeMsg" class="message"></div>
                    <div id="scrapeResults"></div>
                </div>
            </div>

            <!-- COMPOSER TAB -->
            <div id="compose" class="tab-pane" style="display:none;">
                <div class="card">
                    <h2><i class="fas fa-pen"></i> Email Composer</h2>
                    
                    <div class="form-group">
                        <label>Category:</label>
                        <select id="emailCategory" onchange="loadCategoryTemplate()">
                            <option value="">-- Select Category --</option>
                            <option value="principal">ğŸ“ Principal/Headmaster</option>
                            <option value="professor">ğŸ‘¨â€ğŸ« Professor/Teacher</option>
                            <option value="university">ğŸ« University/Institution</option>
                            <option value="hr">ğŸ’¼ HR/Recruiter</option>
                            <option value="cto">ğŸ–¥ï¸ CTO/Tech Lead</option>
                            <option value="investor">ğŸ’° Investor/VC</option>
                            <option value="client">ğŸ¤ Business Client</option>
                            <option value="vendor">ğŸ“¦ Vendor/Supplier</option>
                            <option value="media">ğŸ“° Media/Press</option>
                        </select>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div class="form-group">
                            <label>Recipient Name:</label>
                            <input type="text" id="recipientName" placeholder="e.g., Dr. Smith">
                        </div>
                        <div class="form-group">
                            <label>Purpose:</label>
                            <input type="text" id="composePurpose" placeholder="e.g., Partnership">
                        </div>
                    </div>

                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="generateCategoryEmail()">
                            <i class="fas fa-magic"></i> Generate Email
                        </button>
                    </div>

                    <div id="composeMsg" class="message"></div>
                    <div id="composedEmail"></div>
                </div>
            </div>

            <!-- CAMPAIGN TAB -->
            <div id="campaign" class="tab-pane" style="display:none;">
                <div class="card">
                    <h2><i class="fas fa-envelope"></i> Send Campaign</h2>

                    <div class="form-group">
                        <label>Email Addresses (comma-separated):</label>
                        <textarea id="emailAddresses" placeholder="email1@example.com, email2@example.com"></textarea>
                    </div>

                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 1rem;">
                        <div class="form-group">
                            <label>Subject:</label>
                            <input type="text" id="sendSubject" placeholder="Email subject">
                        </div>
                        <div class="form-group">
                            <label>Your Gmail:</label>
                            <input type="email" id="senderEmail" placeholder="your-email@gmail.com">
                        </div>
                    </div>

                    <div class="form-group">
                        <label>Email Body:</label>
                        <textarea id="sendBody" placeholder="Email content..."></textarea>
                    </div>

                    <div class="form-group">
                        <label>Gmail Password (App Specific):</label>
                        <input type="password" id="senderPassword" placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢">
                    </div>

                    <div class="btn-group">
                        <button class="btn btn-primary" onclick="sendEmails()">
                            <i class="fas fa-paper-plane"></i> Send Campaign
                        </button>
                    </div>

                    <div id="sendMsg" class="message"></div>
                </div>
            </div>

            <!-- SAVED TAB -->
            <div id="saved" class="tab-pane" style="display:none;">
                <div class="card">
                    <h2><i class="fas fa-bookmark"></i> Saved Drafts</h2>
                    <div id="savedEmailsList"></div>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- ========== PAYMENT MODAL ========== -->
<div id="paymentModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>ğŸ’³ Upgrade to Premium</h2>
            <button class="close-btn" onclick="closePaymentModal()">Ã—</button>
        </div>
        
        <div class="stats-grid" style="margin-bottom: 1.5rem;">
            <div class="stat-card">
                <div class="stat-value">âˆ</div>
                <div class="stat-label">Unlimited Scrapes</div>
            </div>
            <div class="stat-card">
                <div class="stat-value">100+</div>
                <div class="stat-label">Emails/Month</div>
            </div>
        </div>

        <div class="form-group">
            <label>Transaction ID (EasyPaisa):</label>
            <input type="text" id="transactionId" placeholder="TXN123456789">
        </div>

        <div class="form-group">
            <label>Email Address:</label>
            <input type="email" id="paymentEmail" placeholder="your@email.com">
        </div>

        <div class="btn-group">
            <button class="btn btn-primary" onclick="submitPayment()">
                <i class="fas fa-credit-card"></i> Pay Rs. 499
            </button>
            <button class="btn btn-secondary" onclick="closePaymentModal()">Cancel</button>
        </div>

        <div id="paymentMsg" class="message"></div>
    </div>
</div>

<!-- ========== ADMIN MODAL ========== -->
<div id="adminLoginModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2>ğŸ” Admin Access</h2>
            <button class="close-btn" onclick="closeAdminModal()">Ã—</button>
        </div>
        
        <div class="form-group">
            <label>Password:</label>
            <input type="password" id="adminPassword" placeholder="Enter admin password">
        </div>

        <div class="btn-group">
            <button class="btn btn-primary" onclick="verifyAdminPassword()">Login</button>
            <button class="btn btn-secondary" onclick="closeAdminModal()">Cancel</button>
        </div>

        <div id="adminLoginMsg" class="message"></div>
    </div>
</div>

<!-- ========== GOOGLE AUTH MODAL ========== -->
<div id="googleAuthModal" class="modal">
    <div class="modal-content">
        <div class="modal-header">
            <h2><i class="fab fa-google"></i> Sign in with Google</h2>
            <button class="close-btn" onclick="closeGoogleAuth()">Ã—</button>
        </div>
        
        <div class="form-group">
            <label>Email:</label>
            <input type="email" id="googleEmail" placeholder="your@gmail.com">
        </div>

        <div class="form-group">
            <label>Full Name:</label>
            <input type="text" id="googleName" placeholder="Your Name">
        </div>

        <div class="btn-group">
            <button class="btn btn-primary" onclick="completeGoogleAuth()">Continue</button>
            <button class="btn btn-secondary" onclick="closeGoogleAuth()">Cancel</button>
        </div>

        <div id="googleAuthMsg" class="message"></div>
    </div>
</div>

<!-- ========== ADMIN DASHBOARD ========== -->
<div id="adminDashboard" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: #f5f7fa; z-index: 999; overflow-y: auto;">
    <div class="container" style="padding-top: 2rem;">
        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 2rem;">
            <h1 style="color: var(--dark);">ğŸ” Admin Dashboard</h1>
            <button class="btn btn-danger" onclick="logoutAdmin()">Logout</button>
        </div>

        <div class="stats-grid" style="margin-bottom: 2rem;">
            <div class="stat-card">
                <div class="stat-value" id="totalUsers">0</div>
                <div class="stat-label">Total Users</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="pendingPayments">0</div>
                <div class="stat-label">Pending Payments</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="approvedPayments">0</div>
                <div class="stat-label">Approved</div>
            </div>
            <div class="stat-card">
                <div class="stat-value" id="totalRevenue">Rs. 0</div>
                <div class="stat-label">Total Revenue</div>
            </div>
        </div>

        <div class="card">
            <h2>Payment Requests</h2>
            <div class="table-wrapper">
                <table>
                    <thead>
                        <tr>
                            <th>Email</th>
                            <th>Transaction ID</th>
                            <th>Amount</th>
                            <th>Date</th>
                            <th>Status</th>
                            <th>Action</th>
                        </tr>
                    </thead>
                    <tbody id="paymentsList"></tbody>
                </table>
            </div>
            <div id="noPayments" style="text-align: center; padding: 2rem; color: #999;">No payments yet</div>
        </div>
    </div>
</div>

<!-- ========== ADMIN BUTTON ========== -->
<button onclick="openAdminPanel()" style="position: fixed; bottom: 30px; right: 30px; width: 60px; height: 60px; background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%); color: white; border: none; border-radius: 50%; font-size: 1.5rem; cursor: pointer; box-shadow: 0 5px 20px rgba(0,0,0,0.3); transition: var(--transition); z-index: 100;" onmouseover="this.style.transform='scale(1.1)'" onmouseout="this.style.transform='scale(1)'">
    ğŸ”
</button>

<script src="https://accounts.google.com/gsi/client" async defer></script>
<script src="js/main.js"></script>

</body>
</html>
